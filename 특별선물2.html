<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday!</title>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Dancing+Script:wght@700&display=swap"
        rel="stylesheet">
    <style>
        /* í°íŠ¸ ì ìš© ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: radial-gradient(circle at top, #ffe3ee, #f9cde2 60%, #f7bfd9);
            margin: 0;
            overflow: hidden;
            /* ìŠ¤í¬ë¡¤ ë°©ì§€ */
            font-family: 'Nanum Pen Script', cursive;
            text-align: center;
            color: #555;
            font-size: 20px;
            /* ê¸°ë³¸ í°íŠ¸ í¬ê¸° ì¦ê°€ */
        }

        /* ê³µí†µ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            background: linear-gradient(135deg, #ff8a80, #ff5252);
            color: white;
            border: none;
            padding: 15px 40px;
            /* ë²„íŠ¼ í¬ê¸° ì¦ê°€ */
            font-size: 24px;
            /* ë²„íŠ¼ í°íŠ¸ ì¦ê°€ */
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 82, 82, 0.4);
            font-family: 'Nanum Pen Script', cursive;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px rgba(255, 82, 82, 0.3);
        }

        /* í™”ë©´ ì „í™˜ìš© ìœ í‹¸ë¦¬í‹° */
        .hidden {
            display: none !important;
            opacity: 0;
            pointer-events: none;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 1. ì ê¸ˆ í™”ë©´ (Lock Screen) */
        #lock-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            /* ë°°ê²½ íë¦¼ íš¨ê³¼ */
        }

        .lock-icon {
            font-size: 60px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        .lock-title {
            font-family: 'Dancing Script', cursive;
            font-size: 42px;
            /* íƒ€ì´í‹€ í¬ê¸° ì¦ê°€ */
            color: #d32f2f;
            margin-bottom: 15px;
        }

        /* ì ê¸ˆ í™”ë©´ ì•ˆë‚´ ë¬¸êµ¬ í°íŠ¸ */
        #lock-screen p {
            font-size: 26px;
            line-height: 1.5;
            color: #333;
        }

        /* 2. í€´ì¦ˆ ëª¨ë‹¬ (Quiz Modal) */
        #quiz-modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1100;
            background: rgba(0, 0, 0, 0.5);
            transition: opacity 0.5s;
            /* ì–´ë‘ìš´ ë°°ê²½ */
        }

        .quiz-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            width: 80%;
            max-width: 320px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            animation: popUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .quiz-question {
            font-size: 32px;
            /* ì§ˆë¬¸ í°íŠ¸ ì¦ê°€ */
            margin-bottom: 25px;
            color: #333;
        }

        .quiz-input {
            width: 80%;
            padding: 12px;
            font-size: 28px;
            /* ì…ë ¥ì°½ í°íŠ¸ ì¦ê°€ */
            border: 2px solid #ffcdd2;
            border-radius: 10px;
            text-align: center;
            font-family: 'Nanum Pen Script', cursive;
            outline: none;
            transition: border-color 0.3s;
            ime-mode: disabled;
            /* ìˆ«ì ì…ë ¥ ìœ ë„ */
        }

        .quiz-input:focus {
            border-color: #ff5252;
        }

        .error-msg {
            color: #e53935;
            font-size: 20px;
            /* ì—ëŸ¬ ë©”ì‹œì§€ í°íŠ¸ ì¦ê°€ */
            margin-top: 15px;
            height: 20px;
            /* ê³µê°„ í™•ë³´ */
            opacity: 0;
            transition: opacity 0.3s;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ */
        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-20px);
            }

            60% {
                transform: translateY(-10px);
            }
        }

        @keyframes popUp {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .shake {
            animation: shake 0.3s;
        }

        /* 3. ë©”ì¸ ì»¨í…ì¸  (Envelope Wrapper) - ì´ˆê¸° ìˆ¨ê¹€ */
        #main-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 500;
            /* ì ê¸ˆí™”ë©´ë³´ë‹¤ ë‚®ì§€ë§Œ ë³´ì´ê²Œ */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ ë° í†µí•© */
        body::before {
            content: "";
            position: fixed;
            inset: -20%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0 2px, transparent 2px 100%);
            background-size: 80px 80px;
            opacity: 0.3;
            animation: drift 18s linear infinite;
            pointer-events: none;
        }

        body.open {
            background: radial-gradient(circle at top, #fff1c9, #ffd7a6 55%, #ffc2d8);
        }

        /* ë´‰íˆ¬ ì „ì²´ ì»¨í…Œì´ë„ˆ */
        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            margin: auto;
            /* ì¤‘ì•™ ì •ë ¬ */
            max-width: 90vw;
            /* ëª¨ë°”ì¼ í™”ë©´ì— ë§ì¶¤ */
            transition: transform 0.3s;
            /* í„°ì¹˜ ì‹œ ë°˜ì‘ íš¨ê³¼ */
            animation: floaty 3.5s ease-in-out infinite;
        }

        /* í„°ì¹˜ ì‹œ ì‚´ì§ ì»¤ì§€ëŠ” íš¨ê³¼ */
        .envelope-wrapper:active {
            transform: scale(0.98);
        }

        /* ë´‰íˆ¬ ë³¸ì²´ */
        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background-color: #ff8a80;
            /* ë´‰íˆ¬ ê¸°ë³¸ ìƒ‰ìƒ (ì§„í•œ ì‚´êµ¬ìƒ‰) */
            border-radius: 5px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            /* ì‚¼ê°í˜• ê²½ê³„ì„  í‹ˆìƒˆ ìˆ¨ê¹€ */
        }

        /* ë´‰íˆ¬ì˜ ì‘ì€ ë´‰ì¸ */
        .seal {
            position: absolute;
            top: 86px;
            left: 50%;
            transform: translateX(-50%);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #ffb6c1, #e53935);
            color: #fff0f0;
            font-family: 'Dancing Script', cursive;
            font-size: 24px;
            line-height: 48px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            z-index: 55;
            animation: pulse 1.8s ease-in-out infinite;
            pointer-events: none;
        }

        /* ë´‰íˆ¬ ëšœê»‘ (ê°€ì¥ ìœ„) */
        .lid {
            position: absolute;
            top: -2px;
            /* ì„œë¸Œí”½ì…€ í‹ˆìƒˆ ë°©ì§€ */
            left: -2px;
            width: 0;
            height: 0;
            z-index: 50;
            /* ê°€ì¥ ë†’ì€ z-index */
            border-left: 152px solid transparent;
            border-right: 152px solid transparent;
            border-top: 102px solid #ff5252;
            /* ëšœê»‘ ìƒ‰ìƒ (ë¶‰ì€ìƒ‰) */
            transform-origin: top;
            transition: transform 0.5s ease-in-out;
            /* ëšœê»‘ ì—´ë¦¬ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
        }

        /* ì‚¼ê°í˜• ë©´ì„ ë®ëŠ” ì‹¤ì§ˆ ëšœê»‘ (clip-path) */
        .lid-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 110px;
            background: #ff5252;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            z-index: 49;
            pointer-events: none;
            transform-origin: top;
            transition: transform 0.5s ease-in-out;
        }

        /* ë´‰íˆ¬ ì•ë©´ - ì•„ë˜ ì£¼ë¨¸ë‹ˆ */
        .pocket {
            position: absolute;
            bottom: 0;
            left: -2px;
            width: 0;
            height: 0;
            z-index: 40;
            /* í¸ì§€ë³´ë‹¤ ìœ„, ëšœê»‘ë³´ë‹¤ëŠ” ì•„ë˜ */
            border-left: 152px solid transparent;
            border-right: 152px solid transparent;
            border-bottom: 122px solid #ff9e80;
            /* ì£¼ë¨¸ë‹ˆ ìƒ‰ìƒ (ì•½ê°„ ë°ì€ ì‚´êµ¬ìƒ‰) */
            border-radius: 0 0 5px 5px;
            pointer-events: none;
            /* í´ë¦­ ì´ë²¤íŠ¸ í†µê³¼ */
        }

        /* ë´‰íˆ¬ ì•ë©´ - ì™¼ìª½ ë‚ ê°œ */
        .flap-left {
            position: absolute;
            top: 0;
            left: -2px;
            width: 0;
            height: 0;
            z-index: 30;
            /* í¸ì§€ë³´ë‹¤ ìœ„ */
            border-top: 102px solid transparent;
            border-bottom: 102px solid transparent;
            border-left: 152px solid #ff8a80;
            /* ë‚ ê°œ ìƒ‰ìƒ */
            border-radius: 5px 0 0 5px;
            pointer-events: none;
        }

        /* ë´‰íˆ¬ ì•ë©´ - ì˜¤ë¥¸ìª½ ë‚ ê°œ */
        .flap-right {
            position: absolute;
            top: 0;
            right: -2px;
            width: 0;
            height: 0;
            z-index: 30;
            /* í¸ì§€ë³´ë‹¤ ìœ„ */
            border-top: 102px solid transparent;
            border-bottom: 102px solid transparent;
            border-right: 152px solid #ff8a80;
            /* ë‚ ê°œ ìƒ‰ìƒ */
            border-radius: 0 5px 5px 0;
            pointer-events: none;
        }

        /* í¸ì§€ì§€ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê²¨ì§) */
        .letter {
            position: absolute;
            /* ë´‰íˆ¬ ë‚´ë¶€ì— ì™„ì „íˆ ìˆ¨ê²¨ì§€ë„ë¡ ìœ„ì¹˜ ì¡°ì • */
            bottom: 10px;
            left: 15px;
            width: 270px;
            height: 180px;
            background-color: #fff;
            /* í¸ì§€ì§€ ìƒ‰ìƒ (í°ìƒ‰) */
            border-radius: 5px;
            padding: 20px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 10;
            /* ë´‰íˆ¬ ì•ë©´ ìš”ì†Œë“¤ë³´ë‹¤ ë‚®ì€ z-index */
            opacity: 0;
            transform: translateY(140px);
            /* ë´‰íˆ¬ ì•ˆìª½ ì•„ë˜ì—ì„œ ì‹œì‘ */
            transition: transform 0.8s 0.15s ease-in-out, opacity 0.65s 0.15s ease-in-out, z-index 0.2s 0.6s;
            /* í¸ì§€ ì˜¬ë¼ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜ (ë”œë ˆì´ í¬í•¨) */
            display: flex;
            flex-direction: column;
            align-items: center;
            /* í¸ì§€ ë‚´ìš©ì´ ë„˜ì¹˜ì§€ ì•Šë„ë¡ ìˆ¨ê¹€ */
            overflow: hidden;
        }

        /* í¸ì§€ ë‚´ìš© ìŠ¤íƒ€ì¼ */
        .letter h2 {
            margin: 0 0 15px 0;
            font-family: 'Dancing Script', cursive;
            color: #d32f2f;
            /* ì œëª© ìƒ‰ìƒ (ì§„í•œ ë¶‰ì€ìƒ‰) */
            font-size: 28px;
        }

        .letter p {
            font-size: 18px;
            color: #555;
            /* ë³¸ë¬¸ ìƒ‰ìƒ (íšŒìƒ‰) */
            text-align: center;
            line-height: 1.6;
            margin: 0;
            width: 100%;
            word-break: keep-all;
            /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ */
        }

        /* ë´‰íˆ¬ê°€ ì—´ë ¸ì„ ë•Œ ìŠ¤íƒ€ì¼ ë³€ê²½ */
        .envelope-wrapper.open .lid {
            transform: rotateX(180deg);
            /* ëšœê»‘ì´ ë’¤ë¡œ ì—´ë¦¼ */
            z-index: 5;
            /* ëšœê»‘ z-index ë‚®ì¶¤ */
        }

        .envelope-wrapper.open .lid-fill {
            transform: rotateX(180deg);
            z-index: 4;
        }

        .envelope-wrapper.open .letter {
            transform: translateY(-140px);
            /* í¸ì§€ê°€ ìœ„ë¡œ ì˜¬ë¼ì˜´ */
            z-index: 60;
            /* í¸ì§€ê°€ ê°€ì¥ ì•ìœ¼ë¡œ ë‚˜ì˜´ */
            height: 350px;
            /* í¸ì§€ ë†’ì´ ì¦ê°€ */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            /* ê·¸ë¦¼ì íš¨ê³¼ ê°•í™” */
            overflow: visible;
            /* ë‚´ìš©ì´ ë„˜ì³ë„ ë³´ì´ë„ë¡ ë³€ê²½ */
            animation: pop 0.8s ease-out 0.5s both;
            opacity: 1;
        }

        /* ì—´ë ¸ì„ ë•ŒëŠ” í¸ì§€ê°€ ë°–ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ìˆë„ë¡ í—ˆìš© */
        .envelope-wrapper.open .envelope {
            overflow: visible;
        }

        .envelope-wrapper.open .seal {
            transform: translateX(-50%) scale(0.4);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .mystery-text {
            margin-top: 18px;
            font-size: 18px;
            color: #6b5b5b;
            opacity: 0.6;
            letter-spacing: 0.5px;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .envelope-wrapper.open .mystery-text {
            opacity: 0;
            transform: translateY(6px);
        }

        /* í¸ì§€ ë‚´ë¶€ ë‚´ìš© */
        .letter-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transform: translateY(40px);
            opacity: 0;
            transition: transform 0.55s 0.65s ease-out, opacity 0.55s 0.65s ease-out;
        }

        /* í•˜ì´í”ˆ ë° ì´ë¦„ */
        .signature {
            margin-top: 20px;
            font-size: 18px;
            color: #555;
        }

        .surprise {
            margin-top: 18px;
            font-size: 20px;
            color: #e53935;
            opacity: 0;
            transform: translateY(6px);
            transition: opacity 0.4s ease 1s, transform 0.4s ease 1s;
        }

        .envelope-wrapper.open .letter-content {
            transform: translateY(0);
            opacity: 1;
        }

        .envelope-wrapper.open .surprise {
            opacity: 1;
            transform: translateY(0);
        }

        /* í•˜íŠ¸ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .heart {
            position: absolute;
            color: #e91e63;
            /* í•˜íŠ¸ ìƒ‰ìƒ (ë¶„í™ìƒ‰) */
            animation: float 4s linear infinite;
            /* ë– ì˜¤ë¥´ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
            opacity: 0;
            z-index: 100;
            /* ê°€ì¥ ë†’ì€ z-index */
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes floaty {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-6px);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: translateX(-50%) scale(1);
            }

            50% {
                transform: translateX(-50%) scale(1.06);
            }
        }

        @keyframes pop {
            0% {
                transform: translateY(-120px) scale(0.98);
            }

            100% {
                transform: translateY(-120px) scale(1);
            }
        }

        /* 4. í¸ì§€ íŒì—… (ì „ì²´ í™”ë©´) */
        #letter-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            /* ê°€ì¥ ìœ„ */
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }

        #letter-popup.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .letter-paper {
            width: 85%;
            max-width: 500px;
            max-height: 80vh;
            /* í™”ë©´ ë†’ì´ì˜ 80% */
            background: #fff;
            padding: 40px;
            box-sizing: border-box;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            /* ë‚´ìš© ê¸¸ë©´ ìŠ¤í¬ë¡¤ */
            transform: scale(0.8);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: center;
            position: relative;
            background-image: linear-gradient(#eee .1rem, transparent .1rem);
            background-size: 100% 2rem;
        }

        #letter-popup.visible .letter-paper {
            transform: scale(1);
        }

        .letter-paper h2 {
            font-family: 'Dancing Script', cursive;
            color: #d32f2f;
            font-size: 42px;
            /* í¸ì§€ ì œëª© í¬ê¸° ì¦ê°€ */
            margin-bottom: 25px;
            line-height: 2rem;
        }

        .letter-paper p {
            font-size: 28px;
            /* í¸ì§€ ë³¸ë¬¸ í¬ê¸° ì¦ê°€ */
            color: #333;
            line-height: 2.2rem;
            margin-bottom: 40px;
            word-break: keep-all;
        }

        .close-btn {
            margin-top: 20px;
            background: #aaa;
            padding: 8px 20px;
            font-size: 16px;
        }

        @keyframes drift {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(40px, 40px);
            }
        }
    </style>
</head>

<body>

    <!-- 1. ì ê¸ˆ í™”ë©´ -->
    <div id="lock-screen">
        <div class="lock-icon">ğŸ</div>
        <div class="lock-title">íŠ¹ë³„í•œ ì„ ë¬¼ ë„ì°©</div>
        <p>ì•„ë¦¼ë‹˜ ì•ìœ¼ë¡œ ì„ ë¬¼ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.<br>ë³¸ì¸ í™•ì¸ í›„ ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        <button class="btn" style="background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);"
            onclick="showQuiz()">ë³¸ì¸ í™•ì¸í•˜ê¸°</button>
    </div>

    <!-- 2. í€´ì¦ˆ ëª¨ë‹¬ -->
    <div id="quiz-modal" class="hidden">
        <div class="quiz-card">
            <div class="quiz-question">ë³¸ì¸ í™•ì¸<br><span style="font-size:20px !important; color:#777;">ìƒë…„ì›”ì¼ 8ìë¦¬ë¥¼
                    ì…ë ¥í•´ì£¼ì„¸ìš”</span></div>
            <input type="text" id="quiz-input" class="quiz-input" placeholder="YYYYMMDD" maxlength="8"
                inputmode="numeric" onkeypress="if(event.key === 'Enter') {checkDate();}">
            <div id="error-msg" class="error-msg">ë‚ ì§œê°€ í‹€ë ¸ì–´! ë‹¤ì‹œ ìƒê°í•´ë´ â¤ï¸</div>
            <button class="btn" onclick="checkDate()">í™•ì¸</button>
        </div>
    </div>

    <!-- 3. ë©”ì¸ ë´‰íˆ¬ (ì´ˆê¸°ì— ìˆ¨ê¹€) -->
    <div id="main-content" class="hidden">
        <div class="envelope-wrapper" onclick="openLetter()">
            <div class="envelope">
                <div class="lid"></div>
                <div class="lid-fill"></div>
                <div class="pocket"></div>
                <div class="flap-left"></div>
                <div class="flap-right"></div>

                <div class="seal">â¤</div>
            </div>
            <div class="mystery-text">ëˆŒëŸ¬ì„œ í¸ì§€ë¥¼ ì—´ì–´ë´!</div>
        </div>
    </div>

    <!-- 4. í¸ì§€ ë‚´ìš© íŒì—… -->
    <div id="letter-popup">
        <div class="letter-paper">
            <h2>Happy Birthday!</h2>
            <p>
                00ì•„ ìƒì¼ ì¶•í•˜í•´ ğŸ’›<br>

                00ì´ ìƒì¼ ë‹¤ì‹œ í•œ ë²ˆ ë„ˆë¬´ ì¶•í•˜í•˜ê³ ,<br>

                ìš°ë¦¬ ì•ìœ¼ë¡œë„ ì˜¤ë˜ì˜¤ë˜ ì˜ˆì˜ê²Œ ë§Œë‚˜ì.<br>
                ì‚¬ë‘í•´.<br>
            </p>
            <div class="signature" style="font-size: 24px;">- ìŠ¹í˜ì´ê°€ -</div>
            <div class="surprise" style="opacity: 1; transform: none; margin-top:30px; color:#e53935; font-size: 26px;">
                ğŸ‰ ìê¸°ë¥¼ ìœ„í•œ ì‘ì€
                ì„œí”„ë¼ì´ì¦ˆ!</div>
        </div>
    </div>

    <script>
        // ì „ì—­ ì„¤ì •
        // ì „ì—­ ì„¤ì •
        const SECRET_DATE_1 = "20020201"; // ìƒë…„ì›”ì¼
        const SECRET_DATE_2 = "20250119"; // ì²˜ìŒ ë§Œë‚œ ë‚ 
        let quizStep = 1; // 1: ìƒì¼, 2: ë§Œë‚œ ë‚ 
        let isLetterOpen = false;

        // í€´ì¦ˆ í™”ë©´ ë³´ì—¬ì£¼ê¸°
        function showQuiz() {
            const lockScreen = document.getElementById('lock-screen');
            const quizModal = document.getElementById('quiz-modal');

            lockScreen.style.opacity = '0';
            setTimeout(() => {
                lockScreen.classList.add('hidden');
                quizModal.classList.remove('hidden');
            }, 300);
        }

        // ë‚ ì§œ í™•ì¸í•˜ê¸°
        function checkDate() {
            const input = document.getElementById('quiz-input');
            const val = input.value.trim();
            const errorMsg = document.getElementById('error-msg');
            const quizCard = document.querySelector('.quiz-card');
            const questionDiv = document.querySelector('.quiz-question');

            if (quizStep === 1) {
                if (val === SECRET_DATE_1) {
                    // 1ë‹¨ê³„ í†µê³¼ -> 2ë‹¨ê³„ë¡œ ë³€ê²½
                    quizStep = 2;
                    input.value = ''; // ì…ë ¥ì°½ ì´ˆê¸°í™”
                    errorMsg.style.opacity = '0'; // ì—ëŸ¬ ë©”ì‹œì§€ ì´ˆê¸°í™”

                    // ì§ˆë¬¸ ë³€ê²½ ì• ë‹ˆë©”ì´ì…˜
                    questionDiv.style.opacity = '0';
                    setTimeout(() => {
                        questionDiv.innerHTML = 'ë³¸ì¸ í™•ì¸ 2ë‹¨ê³„<br><span style="font-size:20px !important; color:#777;">ìš°ë¦¬ê°€ ì²˜ìŒ ì‚¬ê·„ ë‚ ì€?</span>';
                        questionDiv.style.opacity = '1';
                        input.placeholder = "YYYYMMDD";
                        input.focus();
                    }, 300);
                } else {
                    showError(errorMsg, quizCard);
                }
            } else if (quizStep === 2) {
                if (val === SECRET_DATE_2) {
                    // 2ë‹¨ê³„ í†µê³¼ -> í¸ì§€ ì—´ê¸°
                    unlockLetter();
                } else {
                    showError(errorMsg, quizCard);
                }
            }
        }

        function showError(errorMsg, quizCard) {
            errorMsg.style.opacity = '1';
            quizCard.classList.add('shake');
            setTimeout(() => {
                quizCard.classList.remove('shake');
                errorMsg.style.opacity = '0';
            }, 1000);
        }

        // í¸ì§€ ì ê¸ˆ í•´ì œ
        function unlockLetter() {
            const quizModal = document.getElementById('quiz-modal');
            const mainContent = document.getElementById('main-content');

            // í€´ì¦ˆ ëª¨ë‹¬ ì¦‰ì‹œ ìˆ¨ê¹€ ì²˜ë¦¬ ì‹œì‘
            quizModal.style.opacity = '0';

            // ë©”ì¸ ì»¨í…ì¸  ë“œëŸ¬ë‚´ê¸°
            mainContent.classList.remove('hidden');
            mainContent.style.zIndex = '1500'; // z-index ìµœìƒìœ„ë¡œ ì˜¬ë¦¼

            setTimeout(() => {
                quizModal.classList.add('hidden'); // ì™„ì „íˆ ìˆ¨ê¹€
                mainContent.style.opacity = '1';
            }, 300);
        }

        // ë´‰íˆ¬ ì—´ê¸° (ê¸°ì¡´ í•¨ìˆ˜ ìˆ˜ì •)
        function openLetter() {
            if (isLetterOpen) return;
            isLetterOpen = true;

            const envelope = document.querySelector('.envelope-wrapper');
            envelope.classList.add('open');
            document.body.classList.add('open');

            // ë¯¸ìŠ¤í„°ë¦¬ í…ìŠ¤íŠ¸ ìˆ¨ê¸°ê¸°
            const mysteryText = document.querySelector('.mystery-text');
            if (mysteryText) mysteryText.style.opacity = '0';

            createHearts();

            // 1ì´ˆ ë’¤ì— íŒì—… ë„ìš°ê¸°
            setTimeout(() => {
                const popup = document.getElementById('letter-popup');
                popup.classList.add('visible');
            }, 1000);
        }

        // í•˜íŠ¸ ìƒì„± í•¨ìˆ˜
        function createHearts() {
            const container = document.body;
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = 'â¤';
                    heart.classList.add('heart');
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDuration = Math.random() * 2 + 3 + 's';
                    heart.style.fontSize = Math.random() * 15 + 15 + 'px';
                    heart.style.top = '100vh';
                    container.appendChild(heart);
                    setTimeout(() => heart.remove(), 5000);
                }, i * 100);
            }
        }
    </script>
</body>

</html>
